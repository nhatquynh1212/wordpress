!function(a,b){a.shopme_woocommerce_mod=a.shopme_woocommerce_mod||{},a.shopme_core_helpers=a.shopme_core_helpers||{},a.shopme_core_helpers.owlInOwl=function(c){"undefined"==typeof c&&(c=this.$element);var d=a(".thumbs_carousel",c);d.length&&(d.owlCarousel({responsive:{0:{items:3},480:{items:3},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!b.ISRTL}),d.off("change.owl.carousel"))},a.shopme_woocommerce_mod.other_products=function(){if(a(".other_products").length){var c=a(".other_products"),d=a(".products",c),e=c.data("columns")||3,f="no_sidebar"==c.data("sidebar")?3:2;d.owlCarousel({responsive:{0:{items:1},487:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL})}},a.shopme_woocommerce_mod.products_page_carousel=function(){if(a(".products_page_carousel").length){var c=a(".products_page_carousel");c.children().length>1&&c.each(function(){var c=a(this);if(c.children().length>1){var d=c.owlCarousel({items:1,autoHeight:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!b.ISRTL,onInitialized:a.shopme_core_helpers.owlInOwl});d.off("change.owl.carousel")}})}},a.shopme_woocommerce_mod.cart_dropdown=function(){({init:function(){var a=this;a.support={touch:Modernizr.touch,transitions:Modernizr.csstransitions},a.eventtype=a.support.touch?"touchstart":"click",a.listeners()},listeners:function(){var a=this;a.track_ajax_refresh_cart(a),a.track_ajax_adding_to_cart(),a.track_ajax_added_to_cart(a),a.track_ajax_refresh(),a.scrollbar_cart(),a.eventQty()},track_ajax_refresh:function(){var b={action:"shopme_mode_theme_update_mini_cart"};a.post(woocommerce_params.ajax_url,b,function(b){a(".widget_shopping_cart_content").html(b)})},track_ajax_refresh_cart:function(b){a.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"refresh_cart_fragment"},success:function(c){b.update_cart_fragment(c.fragments),a("body").trigger("wc_fragments_loaded")}}),a("body").on("wc_fragments_refreshed wc_fragments_loaded",function(c){b.ajax_remove_cart_item(b),a.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},track_ajax_adding_to_cart:function(){a("body").on("adding_to_cart",function(a,b,c){a.preventDefault(),b.block({message:null,overlayCSS:{background:"#fff url("+shopme_global.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})})},track_ajax_added_to_cart:function(b){a("body").on("added_to_cart",function(c,d,e,f){f.unblock().hide(),b.update_count_and_subtotal(d),b.update_cart_dropdown.call(b,c),a.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},update_count_and_subtotal:function(b){a(".open_button").attr("data-amount",b.count).children("b.total_price").html(b.subtotal)},update_cart_dropdown:function(a){this.ajax_remove_cart_item(this)},update_cart_fragment:function(b){b&&a.each(b,function(b,c){a(b).replaceWith(c)})},ajax_remove_cart_item:function(b){a(".shopping_cart .remove-product, .sc_product .remove-product").on(b.eventtype,function(c){c.preventDefault();var d=a(this),e=d.data("cart_id");d.data("product_id");a.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"cart_item_remove",_wpnonce:woocommerce_mod.nonce_cart_item_remove,cart_id:e},success:function(c){var e=c.fragments;e&&d.parent().animate({opacity:0},function(){var c=a(this),d=c.add(c.parent());d.slideUp(350,function(){c.remove(),b.update_count_and_subtotal(e),b.update_cart_fragment(e),a("body").trigger("wc_fragments_refreshed")})})}})})},scrollbar_cart:function(){a(".shopping_cart.dropdown").length&&a(".shopping_cart.dropdown").scrollbar()},eventQty:function(){a(document).on("click",".plus, .minus",function(){var b=a(this).closest(".qty").find(".input-text"),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),""!==d&&"NaN"!==d||(d=""),""!==e&&"NaN"!==e||(e=0),"any"!==f&&""!==f&&void 0!==f&&"NaN"!==parseFloat(f)||(f=1),a(this).is(".plus")?d&&(d==c||c>d)?b.val(d):b.val(c+parseFloat(f)):e&&(e==c||c<e)?b.val(e):c>0&&b.val(c-parseFloat(f)),b.trigger("change")})}}).init()},a.shopme_woocommerce_mod.set_custom_scroll_bar=function(){var b=a(".custom-scrollbar");b.length&&b.is(":visible")&&b.scrollbar()},a.shopme_woocommerce_mod.zoom=function(){if(a(".single_product.images").length){if(a.shopme_woocommerce_mod.getGalleryList=function(){var b=[],c="product_preview";return a("."+c+" a").each(function(){var c="";a(this).data("zoom-image")?c=a(this).data("zoom-image"):a(this).data("image")&&(c=a(this).data("image")),c&&b.push({href:""+c,title:a(this).find("img").attr("title")})}),b},a(".image_preview_container").length){var b=a(".image_preview_container");b.each(function(){var b=a(this),c=b.data("id");a("#img_zoom",b).length&&a("#img_zoom",b).elevateZoom({zoomType:"inner",gallery:"thumbnails_"+c,galleryActiveClass:"active",cursor:"crosshair",responsive:!0,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500})})}a(".open_qv").length&&a(".open_qv").on("click",function(b){b.preventDefault();var c,d=[];if(a("#img_zoom").length){var e=a(this),f=e.prev("img").data("elevateZoom");c=f.getGalleryList()}else c=a.shopme_woocommerce_mod.getGalleryList();if(a.each(c,function(a,b){var c={};c.src=b.href,c.type="image",d.push(c)}),0==d.length){var g={};g.src=a(this).attr("href"),g.type="image",d.push(g)}a.magnificPopup.open({items:d,type:"image",mainClass:"mfp-fade-in",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,gallery:{tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{open:function(){var b=this;a.magnificPopup.instance.next=function(){b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.next.call(b)},80)},a.magnificPopup.instance.prev=function(){b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.prev.call(b)},80)}},imageLoadComplete:function(){var a=this;setTimeout(function(){a.wrap.addClass("mfp-image-loaded")},15)}}})})}},a.shopme_woocommerce_mod.specials_carousel=function(){var c=a(".widget-specials-carousel");c.length&&c.each(function(){var c=a(this),d=a("div.products",c),e=!!c.data("autoplay"),f=c.data("autoplaytimeout")?c.data("autoplaytimeout"):5e3,g=d.owlCarousel({responsive:{0:{items:1},480:{items:2},768:{items:1},992:{items:1}},autoHeight:!0,autoplay:e,autoplayTimeout:f,autoplayHoverPause:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!b.ISRTL});g.off("change.owl.carousel")})},a.shopme_woocommerce_mod.product_filter_styles=function(){var c=a(".products-container.view-grid").not(".widget-specials-carousel");c.length&&c.each(function(){var c=a(this),d=a("div.products",c),e=c.data("columns")||3,f="no_sidebar"==c.data("sidebar")?3:2;if(c.hasClass("owl_carousel"))d.on("initialized.owl.carousel resized.owl.carousel",a.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",a.shopme_core_helpers.owlGetVisibleElements),d.owlCarousel({responsive:{0:{items:1},480:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL,onInitialized:function(){var b=this,d=b.$element,e={},f=a(".product-filter",c);a.each(b._items,function(a,b){e[a]=b.children()}),f.on("click","li",function(b){var c=a(this),f=c.children().data("filter");b.preventDefault(),c.is(".active")||(d.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==f?a.each(e,function(a,c){b+=c.parent().html()}):a.each(e,function(c,d){var e=a(d);e.hasClass(f)&&(b+=d.parent().html())}),""!=b.length&&d.on("initialized.owl.carousel resized.owl.carousel refresh.owl.carousel",a.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel refresh.owl.carousel",a.shopme_core_helpers.owlGetVisibleElements).trigger("replace.owl.carousel",b).trigger("refresh.owl.carousel").removeClass("changed").animate({opacity:1},200)}),c.closest("li").addClass("active").siblings().removeClass("active"))})}});else{var g=d,h={},i=a(".product-filter",c);a.each(g.children(),function(b,c){h[b]=a(c)}),i.on("click","li",function(){var b=a(this),c=b.children().data("filter");b.is(".active")||(g.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==c?a.each(h,function(c,d){var e=a(d),f=e.wrap("<div></div>");b+=f.parent().html()}):a.each(h,function(d,e){var f=a(e);if(f.hasClass(c)){var g=f.wrap("<div></div>");b+=g.parent().html()}}),""!=b.length&&g.html(b).removeClass("changed").animate({opacity:1},200)}),b.closest("li").addClass("active").siblings().removeClass("active"))})}})},a.shopme_woocommerce_mod.product_cards=function(){var c=a(".product-cards-carousel.view-grid");c.length&&c.each(function(){var c=a(this),d=a("div.products-wrap",c);c.hasClass("owl_carousel")&&(d.on("initialized.owl.carousel resized.owl.carousel",a.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",a.shopme_core_helpers.owlGetVisibleElements),d.owlCarousel({responsive:{0:{items:1},480:{items:1},992:{items:1}},nav:!0,navText:[],rtl:!!b.ISRTL,onInitialized:function(){}}))})},a.shopme_woocommerce_mod.tabbed=function(){if(a('[class*="tabs-holder"]').length){var b=a('[class*="tabs-holder"]');b.each(function(b,c){var d=a('[class*="tabs-nav"]',c),e=Modernizr.touch?"touchstart":"click";d.on(e,"a",function(b){b.preventDefault();var c=a(this).parent("li"),d=c.index();c.hasClass("active")&&b.preventDefault(),c.siblings().removeClass("active").end().addClass("active").parent().next().children('[class*="tab-content"]').stop(!0,!0).hide().eq(d).stop(!0,!0).fadeIn(800)})})}},a.shopme_woocommerce_mod.related_carousel=function(){if(a(".related_products").length){var c=a(".related_products"),d=a(".products",c),e=c.data("columns")||4,f="no_sidebar"==c.data("sidebar")?3:2;d.owlCarousel({responsive:{0:{items:1},480:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL})}},a.shopme_woocommerce_mod.thumbs_carousel=function(){if(a(".product_preview .thumbs_carousel").length){var c=a(".product_preview .thumbs_carousel"),d=c.owlCarousel({responsive:{0:{items:2},480:{items:2},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!b.ISRTL});d.off("change.owl.carousel")}},a.changeView=function(b){this.options=a.extend({},a.changeView.DEFAULTS,b),this.init()},a.changeView.DEFAULTS={},a.changeView.prototype={init:function(){var b=this;b.body=a("body"),b.support={touch:Modernizr.touch},b.view=a(".list-or-grid"),b.view.eventtype=b.support.touch?"touchstart":"click",b.event()},event:function(){this.view.on(this.view.eventtype,"a",a.proxy(function(a){this.load(a)},this))},load:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.data("view"),e=c.closest(".products-container");c.siblings().removeClass("active").end().addClass("active"),e.removeClass("view-grid list_view_products").addClass(d),a.cookie("mad_shop_view",d)}},a.shopme_woocommerce_mod.goto_review=function(){a(".woocommerce-review-link, .woocommerce-write-review-link").on("click",function(b){var c=a(this),d=c.attr("href"),e=a(this.hash);e.length&&("#reviews"!=d&&"#commentform"!=d||(b.preventDefault(),a(".tabs_nav li.reviews_tab a").trigger("click"),setTimeout(function(){a("html, body").stop().animate({scrollTop:e.offset().top},600)},50)))});var c=b.location.hash;"#commentform"!=c&&"#reviews"!=c&&c.indexOf("#comment-")==-1||setTimeout(function(){var b=a(c);b.length&&("#reviews"!=c&&"#commentform"!=c&&c.indexOf("#comment-")==-1||a(".tabs_nav li.reviews_tab a").trigger("click"),a("html, body").stop().animate({scrollTop:b.offset().top-a.shopme_core.stickyMenu.sticky_height-a.shopme_core.stickyMenu.adminbar_height-50},600))},200)},a.shopme_woocommerce_mod.product_preview=function(){var b=a(".product_preview[data-output]");b.length&&b.each(function(b,c){var d=a(c),e=a(d.data("output"));d.find("[data-image]:first").addClass("active"),d.on("click",".elzoom",function(b){b.preventDefault();var c=a(this);if(!c.hasClass("active")){c.parents(".thumbs_carousel").find("a").removeClass("active"),c.addClass("active");var d=a(this).data("image");e.length&&e.children("img").stop().animate({opacity:0},250,function(){a(this).attr("src",d).stop().animate({opacity:1})})}})})},a.shopme_woocommerce_mod.check_cart_variation=function(){return"undefined"!=typeof wc_add_to_cart_variation_params&&(a(".variations_form").wc_variation_form(),void a(".variations_form .variations select").change())},a.shopme_woocommerce_mod.quick_view=function(){a(".quick-view").length&&new a.shopme_popup_prepare(".quick-view",{actionpopup:woocommerce_mod.action_quick_view,noncepopup:woocommerce_mod.nonce_quick_view_popup,on_load:function(){a.shopme_woocommerce_mod.check_cart_variation(),a.shopme_woocommerce_mod.thumbs_carousel(),a.shopme_woocommerce_mod.product_preview(),a.shopme_woocommerce_mod.set_custom_scroll_bar()}})},a.shopme_woocommerce_mod.form_login=function(){a(".to-login").length&&new a.shopme_popup_prepare(".to-login",{actionpopup:woocommerce_mod.action_login,noncepopup:woocommerce_mod.nonce_login_popup,on_load:function(){var c=this,d=a(c.el).data().href;a("form.login").ajaxForm({url:d,success:function(){c.closeModal(),b.location.href=d}})}})},a.shopme_woocommerce_mod.dokan_toggle_category=function(){var b=a(".dokan-category-menu");b.length&&(b.find("li").each(function(b,c){a(c).children(".sub-category").length&&a(c).not(".active").children(".sub-category").hide()}),b.on("click",".caret",function(b){b.preventDefault();var c=a(b.target),d=c.parent("a").parent("li");d.children(".sub-category").length&&d.toggleClass("active").children(".sub-category").slideToggle(700,"easeInOutQuart")}))},a(b).load(function(){a.shopme_core_helpers.owlInOwl(".single_product.images"),a.shopme_woocommerce_mod.product_filter_styles(),a.shopme_woocommerce_mod.product_cards(),a.shopme_woocommerce_mod.products_page_carousel(),a.shopme_woocommerce_mod.related_carousel(),a.shopme_woocommerce_mod.other_products(),a.shopme_woocommerce_mod.specials_carousel()}),a(function(){a.shopme_woocommerce_mod.cart_dropdown(),a.shopme_woocommerce_mod.quick_view(),a.shopme_woocommerce_mod.form_login(),a.shopme_woocommerce_mod.zoom(),a.shopme_woocommerce_mod.tabbed(),a(".list-or-grid").length&&new a.changeView,a.shopme_woocommerce_mod.product_preview(),a.shopme_woocommerce_mod.goto_review(),a.shopme_woocommerce_mod.dokan_toggle_category()})}(jQuery,window);